# proto syntax 3

## 定义一个 Message 类型

``` proto
syntax = "proto3";

message SearchRequest {
  string query = 1;
  int32 page_number = 2;
  int32 result_per_page = 3;
}
```

1. 首行必须以 syntax="proto3" 开头，否则默认使用 “proto2"
2. message 表示定义一个消息，消息内的字段采用  “类型 名称=序号” 的方式，序号是用来在byte流中标识字段用的，必须是唯一的。

## 具体说明字段类型

在上面的例子中，三个字段均为 标量 类型，一个字符串和两个整型类型。然而，你也可以声明 符合类型 字段，包括 枚举 和 其他消息类型。

## 分配字段编号
可以看到在消息内定义的每个字段都有唯一编号。这些字段编号用来在二进制格式中标识字段，消息类型使用后这些字段不能改变。注意，在1-15范围的消息编号在编码时占用一个字节，包含消息编号和消息类型。在16-2047范围的字段编号在编码时占用两个字节。因此经常将1-15的字段编号留给非常频繁的消息元素。